<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pop-A-Friend</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css">
  <!-- app.js should be loaded as a script at the end of the body; removed incorrect stylesheet link -->
</head>
<body>
  <div class="app">

    <!-- Intro Page with Page-Flip !-->
    <div class="book">
      <div class="page" id="introPage">
        <div class="intro">
          <div>
            <h1>üéà Pop-A-Friend</h1>
            <p>Flip the page to start, then choose photos from your device.</p>
            <button id="startIntro" class="btn">Start Pop-A-Friend!</button>
          </div>
        </div>
      </div>
    </div>

    <!-- How To Play (slides down/up) -->
    <div class="card howto-wrapper" style="display:none;">
      <button id="howtoBtn" class="btn btn-ghost" type="button">How to play ‚ñ∏</button>
      <div id="howtoPanel" style="display:none; margin-top:10px;">
        <ul class="howto">
          <li>Upload up to 5 photos from your device.</li>
          <li>Press <strong>Start</strong> to begin a 30-second round.</li>
          <li>Tap balloons to pop them and score points.</li>
          <li>Your best score is saved as <em>High Score</em>.</li>
        </ul>
      </div>
    </div>

    <!-- Main Game Card (slides down on intro flip) -->
    <div class="card main-card" id="mainCard" style="display:none;">
      <div class="header">
        <div class="title">üéÆ Pop-A-Friend Game</div>
        <div class="controls">
          <label for="fileInput">Upload from device</label>
          <input id="fileInput" type="file" accept="image/*" multiple />
          <button id="startBtn" class="btn" type="button">Start</button>
        </div>
      </div>

      <div class="statusbar">
        <div class="pill"><strong>Score:</strong> <span id="score">0</span></div>
        <div class="pill"><strong>Time:</strong> <span id="time">30</span>s</div>
        <div class="pill"><strong>High Score:</strong> <span id="highScore">0</span></div>
        <div class="avatars" id="avatarStrip"></div>
      </div>

      <div id="gameArea">
        <div class="overlay" id="overlay">
          <div class="endcard">
            <h2>Time‚Äôs up! ‚è±Ô∏è</h2>
            <p class="muted">Your score:</p>
            <div style="font-size:32px; margin:8px 0 12px;" id="finalScore">0</div>
            <button id="playAgain" class="btn">Play Again</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
